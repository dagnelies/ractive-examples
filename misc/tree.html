<!doctype html>
<html>
<head>
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
	<!-- Ractive -->
	<script src='https://cdn.jsdelivr.net/npm/ractive'></script>
	<!-- A bit of style -->
	<style>
		body {
			background-color:#eee;
		}
		.tree li {
			list-style-type: none;
		}
		.tree label::after {
			content: ':';
		}
		.tree .node_string::before,
		.tree .node_string::after {
			content: '"';
		}
		.tree .node_string {
			color: purple;
		}
		.tree .node_number {
			color: blue;
		}
		.tree .node_boolean {
			color: green;
		}
		.tree .node_null {
			color: gray;
		}
	</style>
</head>
<body>
	<div id="target" class="container tree"></div>

	<script id="node" type="ractive">
		{{#if type == 'object'}}
			<a href="#" on-click="@.toggle('expanded')">
				{{#if expanded}}&#11206;{{else}}&#11208;{{/if}}
				<label>{{name}}</label>
			</a>
			{{#if expanded}}
				<ul>
				{{#each content}}
					<li><node content="{{.}}" name="{{@key}}" expanded="false" /></li>
				{{/each}}
				</ul>
			{{/if}}
		{{else}}
			<label>{{name}}</label> <span class="node_{{type}}">{{content}}</span>
		{{/if}}
	</script>


	<script>
	Ractive.components.node = Ractive.extend({
			template: '#node',
			computed: {
				type: function() {
					return typeof(this.get('content'));
				}
			}
		});
		var ractive = new Ractive({
			target: '#target',
			template: '<p>The tree:</p><node name="glossary" content="{{glossary}}" expanded="true" />',
			data: {
					"glossary": {
						"title": "example glossary",
						"pages": 234,
						"revised": false,
						"GlossDiv": {
							"title": "S",
							"GlossList": {
								"GlossEntry": {
									"ID": "SGML",
									"SortAs": "SGML",
									"GlossTerm": "Standard Generalized Markup Language",
									"Acronym": "SGML",
									"Abbrev": "ISO 8879:1986",
									"GlossDef": {
										"para": "A meta-markup language, used to create markup languages such as DocBook.",
										"GlossSeeAlso": ["GML", "XML"]
									},
									"GlossSee": "markup"
								}
							}
						}
					}
			}
		});
	</script>
</body>
</html>
