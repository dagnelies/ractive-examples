<!doctype html>
<html>
<head>
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
	<!-- Ractive -->
	<script src='https://cdn.jsdelivr.net/npm/ractive'></script>
	<!-- To generate random users -->
	<script src='https://cdnjs.cloudflare.com/ajax/libs/chance/0.5.6/chance.min.js'></script>
	<!-- A bit of style -->
	<style>
		body {background-color:#eee;}
		.tile {margin:10px;border: 1px solid #ddd;border-radius:40px;background-color:#fff;cursor:pointer;transition:all 200ms linear;display:flex;font-size:18px;align-items:center;}
		.tile:hover {background-color:#729D34;color:white;transform:scale(1.1);}
		.tile > * {flex:1;}
	</style>
</head>
<body>
	<div id="target" class="container"></div>

	<script id='template' type='text/ractive'>
		<button class="btn btn-success" on-click="@this.addUsers(1)">Add 1 user</button>
		<button class="btn btn-success" on-click="@this.addUsers(100)">Add 100 users</button>
		<button class="btn btn-success" on-click="@this.set('users', [])">Clear</button>
		<hr/>
		
		{{#each users}}
			<div class="tile">
				<span><img class="img-circle" src="{{.picture}}" /></span>
				<span style="text-transform: capitalize;">{{.first_name}} {{.last_name}}</span>
				<span>{{.email}}</span>
			</div>
		{{/each}}
		<hr/>
	</script>

	<script>
		function randomUser() {
			var gender = chance.random() < 0.3 ? 'men' : 'women'; // because girls are cuter
			return {
				picture: 'https://randomuser.me/api/portraits/med/' + gender + '/' + (chance.natural() % 100) + '.jpg',
				first_name: chance.first(),
				last_name: chance.last(),
				email: chance.email()
			};
		}
		
		var ractive = new Ractive({
			el: '#target',
			template: '#template',
			data: {
				users: [randomUser(),randomUser(),randomUser()]
			},
			addUsers: function(n) {
				for(var i=0; i < n; i++)
					this.push('users', randomUser());
			}
		});
	</script>
</body>
</html>
